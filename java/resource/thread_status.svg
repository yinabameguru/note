<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="680px" preserveAspectRatio="none" style="width:1021px;height:680px;background:#FFFFFF;" version="1.1" viewBox="0 0 1021 680" width="1021px" zoomAndPan="magnify"><defs><filter height="300%" id="f1hhjawzzzuxj3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><g id="new"><rect fill="#FEFECE" filter="url(#f1hhjawzzzuxj3)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="398.9" y="105"/><line style="stroke:#A80036;stroke-width:1.5;" x1="398.9" x2="448.9" y1="134.1201" y2="134.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="411.4" y="126.0439">new</text></g><g id="blocked"><rect fill="#FEFECE" filter="url(#f1hhjawzzzuxj3)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="69" x="79.4" y="616"/><line style="stroke:#A80036;stroke-width:1.5;" x1="79.4" x2="148.4" y1="645.1201" y2="645.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="89.4" y="637.0439">blocked</text></g><g id="waiting"><rect fill="#FEFECE" filter="url(#f1hhjawzzzuxj3)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="63" x="328.4" y="616"/><line style="stroke:#A80036;stroke-width:1.5;" x1="328.4" x2="391.4" y1="645.1201" y2="645.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="338.4" y="637.0439">waiting</text></g><g id="timed_waiting"><rect fill="#FEFECE" filter="url(#f1hhjawzzzuxj3)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="105" x="609.4" y="616"/><line style="stroke:#A80036;stroke-width:1.5;" x1="609.4" x2="714.4" y1="645.1201" y2="645.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="619.4" y="637.0439">timed_waiting</text></g><g id="terminated"><rect fill="#FEFECE" filter="url(#f1hhjawzzzuxj3)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="87" x="825.4" y="616"/><line style="stroke:#A80036;stroke-width:1.5;" x1="825.4" x2="912.4" y1="645.1201" y2="645.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="835.4" y="637.0439">terminated</text></g><ellipse cx="423.9" cy="16" fill="#000000" filter="url(#f1hhjawzzzuxj3)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1hhjawzzzuxj3)" height="232.1201" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="466.92" x="190.4" y="234"/><rect fill="#FFFFFF" height="197" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="460.92" x="193.4" y="266.1201"/><line style="stroke:#A80036;stroke-width:1.5;" x1="190.4" x2="657.32" y1="263.1201" y2="263.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="395.86" y="255.0439">runnable</text><g id="runnable.ready"><rect fill="#FEFECE" filter="url(#f1hhjawzzzuxj3)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="56" x="275.32" y="275.1201"/><line style="stroke:#A80036;stroke-width:1.5;" x1="275.32" x2="331.32" y1="304.2402" y2="304.2402"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="285.32" y="296.1641">ready</text></g><g id="runnable.running"><rect fill="#FEFECE" filter="url(#f1hhjawzzzuxj3)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="269.32" y="398.1201"/><line style="stroke:#A80036;stroke-width:1.5;" x1="269.32" x2="337.32" y1="427.2402" y2="427.2402"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="279.32" y="419.1641">running</text></g><!--MD5=[eebb845feef2544b6375a900809b63e8]
link ready to running--><path d="M275.22,305.4801 C253.4,310.5001 224.54,321.0901 210.32,343.1201 C201.4,356.9401 201.4,366.3001 210.32,380.1201 C222.19,398.5101 244.26,408.9301 263.92,414.7901 " fill="none" id="ready-to-running" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="268.86,416.1801,261.2829,409.8882,264.0476,414.8235,259.1123,417.5881,268.86,416.1801" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="211.32" y="368.0181">线程被调度器选中，cpu运行</text><!--MD5=[e564a0841085e20ff15ffd3b38bca6f5]
link running to ready--><path d="M337.7,411.1801 C352.32,404.6301 367.9,394.6801 376.32,380.1201 C384.55,365.8801 384.55,357.3601 376.32,343.1201 C367.7,328.2201 351.58,318.1501 336.67,311.6101 " fill="none" id="running-to-ready" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="331.68,309.5201,338.4414,316.6814,336.2933,311.4483,341.5264,309.3002,331.68,309.5201" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="383.32" y="359.0181">线程被挂起（切换到下一个线程的时间片了）</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="482.32" y="376.7725">Thread.yield</text><!--MD5=[20c2f897b2b3c5b95ed44d18618a201c]
link *start to new--><path d="M423.9,26.17 C423.9,42.07 423.9,75.4 423.9,99.82 " fill="none" id="*start-to-new" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="423.9,104.89,427.9,95.89,423.9,99.89,419.9,95.89,423.9,104.89" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="424.9" y="71.8979">new Thread()</text><!--MD5=[f367fd99b274e000c0e5973e5b3c912b]
link new to runnable--><path d="M423.9,155.16 C423.9,173.63 423.9,200.61 423.9,228.61 " fill="none" id="new-to-runnable" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="423.9,233.84,427.9,224.84,423.9,228.84,419.9,224.84,423.9,233.84" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="424.9" y="200.8979">Thread.start()</text><!--MD5=[0b9b35d3db676ffbebd0dc7e967cbb27]
link runnable to terminated--><path d="M657.61,402.89 C713.52,424.27 769.29,454.2 811.9,496 C843.78,527.28 858.29,578.59 864.54,610.78 " fill="none" id="runnable-to-terminated" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="865.48,615.77,867.7394,606.1838,864.5517,610.8569,859.8785,607.6692,865.48,615.77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="857.9" y="547.3979">线程运行结束或者异常退出</text><!--MD5=[a39c745c4e519554fb9b36d08a747aa4]
link runnable to timed_waiting--><path d="M516.86,466.33 C523.87,476.2 530.64,486.18 536.9,496 C561.03,533.89 553.21,552.28 582.9,586 C591.72,596.02 602.78,605.07 613.81,612.77 " fill="none" id="runnable-to-timed_waiting" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="618.2,615.76,613.0164,607.3856,614.0686,612.9438,608.5104,613.9959,618.2,615.76" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="618.4" y="511.8979">Thread.sleep</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="624.9" y="529.6523">Object.wait</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="625.9" y="547.4067">Thread.join</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="587.9" y="565.1611">LockSupport.parkNanos</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="595.4" y="582.9155">LockSupport.parkUntil</text><!--MD5=[4be91643e936f09bfeadc05398ff7dd8]
link timed_waiting to runnable--><path d="M709.03,615.76 C719.8,607.82 729.84,597.91 735.9,586 C754.02,550.34 757.41,529.72 735.9,496 C717.3,466.84 691.15,443.46 661.82,424.72 " fill="none" id="timed_waiting-to-runnable" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="657.47,421.99,662.9622,430.1653,661.7036,424.6503,667.2186,423.3916,657.47,421.99" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="750.9" y="547.3979">时间结束</text><!--MD5=[acb66f3eefd3f7fb7ece340e227173c2]
link runnable to waiting--><path d="M289.24,466.12 C282.88,475.65 277.31,485.63 272.9,496 C257.22,532.8 253.45,551.04 272.9,586 C283.73,605.48 304.82,618.83 323.52,627.38 " fill="none" id="runnable-to-waiting" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="328.22,629.46,321.5969,622.1706,323.6445,627.4439,318.3712,629.4915,328.22,629.46" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="292.4" y="529.3979">Object.wait</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="295.4" y="547.1523">Thread.join</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="277.9" y="564.9067">LockSupport.park</text><!--MD5=[114efb2a675842ac395abbc4f5a5a51f]
link waiting to runnable--><path d="M372.78,615.82 C377.19,606.69 381.79,596.07 384.9,586 C396.18,549.41 404.4,508.54 410.3,471.28 " fill="none" id="waiting-to-runnable" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="411.08,466.28,405.7167,474.5404,410.2951,471.218,413.6175,475.7964,411.08,466.28" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="429.4" y="529.3979">Object.notify</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="423.9" y="547.1523">Object.notifyAll</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="411.9" y="564.9067">LockSupport.unpark</text><!--MD5=[9dd0bd422501dbc8288f9a4fee7fe9c1]
link runnable to blocked--><path d="M190.31,386.22 C127.7,407.51 66.9,441.57 28.9,496 C6,528.8 9.64,550.94 28.9,586 C38.67,603.79 57.06,616.55 74.24,625.18 " fill="none" id="runnable-to-blocked" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="79.04,627.51,72.692,619.9798,74.5425,625.3255,69.1968,627.1759,79.04,627.51" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="29.9" y="538.3979">等待进入同步代码块</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="53.9" y="556.1523">synchronized</text><!--MD5=[ce5ae17e4499ca8d1616d61788d698cb]
link blocked to runnable--><path d="M133.52,615.97 C140.78,606.77 148.94,596.06 155.9,586 C182.55,547.44 178.57,529.95 210.9,496 C219.54,486.92 228.85,478.09 238.57,469.56 " fill="none" id="blocked-to-runnable" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="242.46,466.18,233.0403,469.0557,238.683,469.4563,238.2824,475.0989,242.46,466.18" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="211.9" y="547.3979">获得锁</text><!--MD5=[74efe8a479fe9bba0cd6740db474efd0]
@startuml
state new
state runnable {
state ready
state running

ready - -> running : 线程被调度器选中，cpu运行
running - -> ready : 线程被挂起（切换到下一个线程的时间片了） \n Thread.yield
}
state blocked
state waiting
state timed_waiting
state terminated

[*] - -> new : new Thread()
new - -> runnable : Thread.start()
runnable - -> terminated : 线程运行结束或者异常退出
runnable - -> timed_waiting : Thread.sleep \n Object.wait \n Thread.join \n LockSupport.parkNanos \n LockSupport.parkUntil
timed_waiting - -> runnable : 时间结束
runnable - -> waiting : Object.wait \n Thread.join \n LockSupport.park
waiting - -> runnable : Object.notify \n Object.notifyAll \n LockSupport.unpark
runnable - -> blocked : 等待进入同步代码块 \n synchronized
blocked - -> runnable : 获得锁

@enduml

PlantUML version 1.2021.11(Sat Oct 02 21:26:11 CST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>